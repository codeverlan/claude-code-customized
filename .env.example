# Claude Code Docker Environment Configuration
# Copy this file to .env and customize your settings
#
# ============================================================================
# REQUIRED CONFIGURATION
# ============================================================================

# Your Anthropic API Authentication Token
# Get this from: https://console.anthropic.com/
ANTHROPIC_AUTH_TOKEN=your_api_token_here

# API Endpoint Configuration
# Choose your preferred API provider:
ANTHROPIC_BASE_URL=https://api.anthropic.com

# Alternative API Providers (uncomment to use):
# ANTHROPIC_BASE_URL=https://api.z.ai/api/anthropic
# ANTHROPIC_BASE_URL=https://anyrouter.top/v1
# ANTHROPIC_BASE_URL=https://your-custom-proxy.com/v1
# ANTHROPIC_BASE_URL=https://openrouter.ai/api/v1

# ============================================================================
# USER & DIRECTORY CONFIGURATION
# ============================================================================

# Container User Configuration
CONTAINER_USER=claude
CONTAINER_GROUP=claude
CONTAINER_UID=1000
CONTAINER_GID=1000

# Home Directory Configuration
# Note: This should match the user's home directory in the container
CONTAINER_HOME_DIR=/home/${CONTAINER_USER}

# Working Directory Configuration
# Where your project files will be mounted and worked on
CONTAINER_WORK_DIR=/workspace

# Projects Directory Configuration
# Where the customization symlinks and project files will be stored
PROJECTS_DIR=${CONTAINER_HOME_DIR}/projects

# Claude Code Configuration Directory
# Where Claude Code stores its configuration
CLAUDE_CONFIG_DIR=${CONTAINER_HOME_DIR}/.claude

# Local Binary Directory
# Where local binaries (including Claude Code) are installed
LOCAL_BIN_DIR=${CONTAINER_HOME_DIR}/.local/bin

# ============================================================================
# MOUNT POINTS & VOLUMES
# ============================================================================

# Claude Binary Mount Point
# Where the host Claude binary will be mounted in the container
CLAUDE_BINARY_MOUNT_POINT=/claude-binaries

# Host Working Directory Mount
# Where your host working directory will be mounted
HOST_WORK_DIR=.

# Persistent Volume Names
# Docker volume names for persistent data
PROJECTS_VOLUME_NAME=claude-code-projects
CONFIG_VOLUME_NAME=claude-code-config
MCP_VOLUME_NAME=claude-code-mcp

# ============================================================================
# SYSTEM PROMPT CONFIGURATION
# ============================================================================

# System Prompt Directory
# Where system prompt markdown files are stored
SYSTEM_PROMPT_DIR=${PROJECTS_DIR}/claude-system-prompts

# Default Base Prompt
# Which system prompt to use by default
DEFAULT_BASE_PROMPT=base/core-enhancement.md

# Default Append Prompts
# Additional prompts to append by default (comma-separated)
DEFAULT_APPEND_PROMPTS=

# Custom Prompts Directory (Optional)
# If you want to store prompts outside the projects directory
# CUSTOM_PROMPTS_DIR=${PROJECTS_DIR}/custom-prompts

# ============================================================================
# CUSTOMIZATION DIRECTORIES
# ============================================================================

# Claude Code Subdirectories
# These are created under both .claude and projects for symlinks
COMMANDS_DIR=commands
SKILLS_DIR=skills
HOOKS_DIR=hooks
AGENTS_DIR=agents
PROJECTS_CLAUDE_DIR=projects
SESSION_ENV_DIR=session-env
TODOS_DIR=todos
SYSTEM_PROMPTS_DIR=system-prompts

# MCP Configuration
MCP_CONFIG_DIR=${CONTAINER_HOME_DIR}/.config/mcp

# ============================================================================
# PERFORMANCE & BEHAVIOR SETTINGS
# ============================================================================

# Context Optimization (Performance Tuning)
CLAUDE_AUTO_COMPACT_BUFFER_RATIO=0.05
CLAUDE_CONTEXT_AUTOCOMPACT_TARGET=5%
CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC=1

# Session Configuration
CLAUDE_CODE_SESSION=1
CLAUDE_CODE_ENTRYPOINT=cli
CLAUDECODE=1

# API Configuration
API_TIMEOUT_MS=300000
API_MAX_RETRIES=3
API_RETRY_DELAY_MS=1000

# ============================================================================
# PERMISSION ESCALATION SETTINGS
# ============================================================================

# Strategic Permission Escalation
CLAUDE_SUDO_ESCALATION_ENABLED=1
CLAUDE_AUTO_ESCALATE_ON_PERMISSION_ERROR=1
CLAUDE_SUDO_TIMEOUT=30
CLAUDE_MAX_ESCALATION_RETRIES=2

# Sudo Configuration
# Note: Passwordless sudo must be configured in /etc/sudoers
SUDOERS_USER=${CONTAINER_USER}
SUDOERS_RULES="${SUDOERS_USER} ALL=(ALL) NOPASSWD: ALL"

# ============================================================================
# DEVELOPMENT & DEBUGGING
# ============================================================================

# Enable verbose logging (uncomment for debugging)
# CLAUDE_DEBUG_MODE=1
# CLAUDE_LOG_LEVEL=debug

# Performance monitoring
# CLAUDE_PERFORMANCE_MONITORING=1
# CLAUDE_METRICS_ENABLED=1

# Feature flags
# CLAUDE_EXPERIMENTAL_FEATURES=0
# CLAUDE_BETA_FEATURES=0

# ============================================================================
# NETWORK & SECURITY
# ============================================================================

# Network settings
CONTAINER_NETWORK=claude-network
EXPOSED_PORTS=8080

# Security settings
# SUDOERS_RESTRICTIONS=1
# AUDIT_LOGGING=1
# SECURE_MODE=1

# Proxy configuration (if needed)
# HTTP_PROXY=
# HTTPS_PROXY=
# NO_PROXY=localhost,127.0.0.1

# ============================================================================
# INTEGRATION SETTINGS
# ============================================================================

# Git Integration
GIT_ENABLED=1
GIT_CONFIG_NAME=${CONTAINER_USER}
GIT_CONFIG_EMAIL="${CONTAINER_USER}@localhost"

# Docker Integration
DOCKER_INTEGRATION=1
DOCKER_SOCKET_MOUNT=/var/run/docker.sock

# Editor Configuration
DEFAULT_EDITOR=vim
ALTERNATIVE_EDITORS=nano,emacs

# ============================================================================
# BACKUP & PERSISTENCE
# ============================================================================

# Backup settings
BACKUP_ENABLED=0
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=7
BACKUP_DIR=${PROJECTS_DIR}/backups

# Data persistence
PERSIST_CONFIG=1
PERSIST_SESSIONS=1
PERSIST_CUSTOMIZATIONS=1

# ============================================================================
# THEMING & UI
# ============================================================================

# UI/UX settings
CLAUDE_THEME=default
CLAUDE_COLOR_SCHEME=auto

# Shell Configuration
DEFAULT_SHELL=/bin/bash
SHELL_RC_FILE=${CONTAINER_HOME_DIR}/.bashrc

# ============================================================================
# EXAMPLE CONFIGURATIONS
# ============================================================================

# Example: Custom Username and Directories
# CONTAINER_USER=myuser
# CONTAINER_HOME_DIR=/home/myuser
# PROJECTS_DIR=/data/projects
# CONTAINER_WORK_DIR=/data/workspace

# Example: Development Environment
# CLAUDE_DEBUG_MODE=1
# CLAUDE_LOG_LEVEL=debug
# CLAUDE_PERFORMANCE_MONITORING=1
# GIT_ENABLED=1

# Example: Production Environment
# CLAUDE_SUDO_ESCALATION_ENABLED=0
# SECURE_MODE=1
# AUDIT_LOGGING=1
# BACKUP_ENABLED=1

# Example: Using a Proxy API
# ANTHROPIC_AUTH_TOKEN=your_proxy_token
# ANTHROPIC_BASE_URL=https://your-proxy.com/v1
# API_TIMEOUT_MS=60000
# HTTP_PROXY=http://proxy.company.com:8080

# Example: Custom Directory Structure
# PROJECTS_DIR=/shared/claude-projects
# SYSTEM_PROMPT_DIR=/shared/prompts
# CLAUDE_CONFIG_DIR=/shared/.claude

# ============================================================================
# ADVANCED CONFIGURATION
# ============================================================================

# Custom Initialization Scripts
# INIT_SCRIPTS_DIR=${PROJECTS_DIR}/init-scripts
# STARTUP_COMMANDS=

# Resource Limits
# MEMORY_LIMIT=4g
# CPU_LIMIT=2
# DISK_LIMIT=10g

# Health Check Configuration
# HEALTH_CHECK_INTERVAL=30s
# HEALTH_CHECK_TIMEOUT=10s
# HEALTH_CHECK_RETRIES=3

# ============================================================================
# QUICK START INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Set your ANTHROPIC_AUTH_TOKEN
# 3. Optionally set your ANTHROPIC_BASE_URL
# 4. Customize directories and paths if needed
# 5. Run: docker-compose up -d
# 6. Access: docker-compose exec claude-custom bash
# ============================================================================